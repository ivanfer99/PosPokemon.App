<Window x:Class="PosPokemon.App.ProductFormWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Producto" 
        Height="750" 
        Width="550"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        Background="{StaticResource AppBackgroundColor}">

    <Border Margin="20" 
            Background="White" 
            CornerRadius="12" 
            Padding="30">
        <Border.Effect>
            <DropShadowEffect Color="{StaticResource ShadowColor}" Opacity="0.1" BlurRadius="10" ShadowDepth="2"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Título -->
            <TextBlock Grid.Row="0" 
                     Text="{Binding Title}"
                     FontSize="24" 
                     FontWeight="Bold"
                     Foreground="{StaticResource PrimaryTextColor}"
                     Margin="0,0,0,25"/>

            <!-- Formulario -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <!-- Código -->
                    <TextBlock Text="Código (SKU) *" 
                             Foreground="{StaticResource SecondaryTextColor}"
                             FontSize="12"
                             Margin="0,0,0,5"/>
                    <TextBox Height="40"
                           Padding="12,0"
                           FontSize="14"
                           Text="{Binding Code, UpdateSourceTrigger=PropertyChanged}"
                           Margin="0,0,0,15"/>

                    <!-- Nombre -->
                    <TextBlock Text="Nombre del Producto *" 
                             Foreground="{StaticResource SecondaryTextColor}"
                             FontSize="12"
                             Margin="0,0,0,5"/>
                    <TextBox Height="40"
                           Padding="12,0"
                           FontSize="14"
                           Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}"
                           Margin="0,0,0,15"/>

                    <!-- Categoría (NOTA: Aquí deberías usar un ComboBox con categorías reales) -->
                    <TextBlock Text="ID de Categoría * (Temporal)" 
                             Foreground="{StaticResource SecondaryTextColor}"
                             FontSize="12"
                             Margin="0,0,0,5"/>
                    <TextBox Height="40"
                           Padding="12,0"
                           FontSize="14"
                           Text="{Binding CategoryId, UpdateSourceTrigger=PropertyChanged}"
                           Margin="0,0,0,15"/>

                    <!-- Módulo -->
                    <TextBlock Text="Módulo" 
                             Foreground="{StaticResource SecondaryTextColor}"
                             FontSize="12"
                             Margin="0,0,0,5"/>
                    <TextBox Height="40"
                           Padding="12,0"
                           FontSize="14"
                           Text="{Binding Module, UpdateSourceTrigger=PropertyChanged}"
                           Margin="0,0,0,15"/>

                    <!-- Promo/Especial -->
                    <CheckBox Content="Es Promo/Especial"
                            IsChecked="{Binding IsPromoSpecial}"
                            Margin="0,0,0,15"/>

                    <!-- Expansión (NOTA: Aquí deberías usar un ComboBox con expansiones reales) -->
                    <TextBlock Text="ID de Expansión (Opcional)" 
                             Foreground="{StaticResource SecondaryTextColor}"
                             FontSize="12"
                             Margin="0,0,0,5"/>
                    <TextBox Height="40"
                           Padding="12,0"
                           FontSize="14"
                           Text="{Binding ExpansionId, UpdateSourceTrigger=PropertyChanged}"
                           Margin="0,0,0,15"/>

                    <!-- Idioma, Rareza, Acabado -->
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Idioma" 
                                     Foreground="{StaticResource SecondaryTextColor}"
                                     FontSize="12"
                                     Margin="0,0,0,5"/>
                            <TextBox Height="40"
                                   Padding="12,0"
                                   FontSize="14"
                                   Text="{Binding Language, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Rareza" 
                                     Foreground="{StaticResource SecondaryTextColor}"
                                     FontSize="12"
                                     Margin="0,0,0,5"/>
                            <TextBox Height="40"
                                   Padding="12,0"
                                   FontSize="14"
                                   Text="{Binding Rarity, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="4">
                            <TextBlock Text="Acabado" 
                                     Foreground="{StaticResource SecondaryTextColor}"
                                     FontSize="12"
                                     Margin="0,0,0,5"/>
                            <TextBox Height="40"
                                   Padding="12,0"
                                   FontSize="14"
                                   Text="{Binding Finish, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>
                    </Grid>

                    <!-- Precio y Precio de Venta -->
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Precio (S/) *" 
                                     Foreground="{StaticResource SecondaryTextColor}"
                                     FontSize="12"
                                     Margin="0,0,0,5"/>
                            <TextBox Height="40"
                                   Padding="12,0"
                                   FontSize="14"
                                   Text="{Binding Price, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Precio Venta (S/)" 
                                     Foreground="{StaticResource SecondaryTextColor}"
                                     FontSize="12"
                                     Margin="0,0,0,5"/>
                            <TextBox Height="40"
                                   Padding="12,0"
                                   FontSize="14"
                                   Text="{Binding SalePrice, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>
                    </Grid>

                    <!-- Stock y Stock Mínimo -->
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Stock *" 
                                     Foreground="{StaticResource SecondaryTextColor}"
                                     FontSize="12"
                                     Margin="0,0,0,5"/>
                            <TextBox Height="40"
                                   Padding="12,0"
                                   FontSize="14"
                                   Text="{Binding Stock, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Stock Mínimo" 
                                     Foreground="{StaticResource SecondaryTextColor}"
                                     FontSize="12"
                                     Margin="0,0,0,5"/>
                            <TextBox Height="40"
                                   Padding="12,0"
                                   FontSize="14"
                                   Text="{Binding MinStock, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>
                    </Grid>

                    <!-- Descripción -->
                    <TextBlock Text="Descripción" 
                             Foreground="{StaticResource SecondaryTextColor}"
                             FontSize="12"
                             Margin="0,0,0,5"/>
                    <TextBox Height="80"
                           Padding="12,8"
                           FontSize="14"
                           TextWrapping="Wrap"
                           AcceptsReturn="True"
                           VerticalScrollBarVisibility="Auto"
                           Text="{Binding Description, UpdateSourceTrigger=PropertyChanged}"
                           Margin="0,0,0,15"/>
                </StackPanel>
            </ScrollViewer>

            <!-- Botones -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                <Button Content="Cancelar"
                      Width="120"
                      Height="45"
                      Margin="0,0,10,0"
                      Background="#95A5A6"
                      Foreground="White"
                      BorderThickness="0"
                      Click="OnCancelClick">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                              CornerRadius="6">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Setter Property="Cursor" Value="Hand"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#7F8C8D"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>

                <Button Content="💾 Guardar"
                      Width="150"
                      Height="45"
                      Style="{StaticResource PrimaryButton}"
                      Click="OnSaveClick"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>